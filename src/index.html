<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self' https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'">
  <title>Cimple Dev Kit | Code Editor</title>
  <link rel="stylesheet" href="style.css">
  <link
    href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=JetBrains+Mono:wght@400;500&family=Inter:wght@400;500;600&display=swap"
    rel="stylesheet">
</head>

<body>
  <header class="window-title-bar">
    <div class="window-controls-linux"></div>
    <div class="nav-controls">
      <button class="icon-btn" title="Go Back">‚Üê</button>
      <button class="icon-btn" title="Go Forward">‚Üí</button>
    </div>
    <div class="command-center" id="command-center">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
      <span>Workspace</span>
    </div>
    <div class="workspace-summary" id="workspace-summary">
      <div class="workspace-info">
        <span class="workspace-path" id="workspace-path">No folder opened</span>
        <span class="workspace-badge" id="workspace-branch">No branch</span>
        <span class="workspace-status" id="workspace-status">Not a repo</span>
      </div>
      <div class="workspace-actions">
        <button class="icon-btn" id="workspace-reveal-btn" title="Reveal in Explorer">‚á™</button>
        <button class="icon-btn" id="workspace-refresh-btn" title="Refresh Git">‚ü≤</button>
        <button class="icon-btn" id="workspace-open-btn" title="Open Folder">üìÅ</button>
      </div>
    </div>
    <div class="layout-controls">
      <button class="icon-btn" id="toggle-sidebar-btn" title="Toggle Sidebar">‚ó´</button>
    </div>
  </header>

  <div class="app-main-layout">
    <aside class="activity-bar">
      <div class="activity-bar-logo" title="Cimple Dev Kit">CDK</div>
      <div class="activity-bar-items">
        <div class="activity-item active" data-view="explorer" title="Explorer (Ctrl+Shift+E)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="9" y1="3" x2="9" y2="21"></line>
          </svg>
        </div>
        <div class="activity-item" data-view="search" title="Search (Ctrl+Shift+F)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
        </div>
      </div>
      <div class="activity-bar-footer">
        <div class="activity-item" id="settings-btn" title="Settings">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path
              d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
            </path>
          </svg>
        </div>
      </div>
    </aside>

    <aside class="primary-sidebar" id="primary-sidebar">
      <div class="sidebar-header">
        <span class="sidebar-title" id="sidebar-title">EXPLORER</span>
        <div class="sidebar-actions">
          <button class="icon-btn" id="new-file-btn" title="New File">+</button>
          <button class="icon-btn" id="new-folder-btn" title="New Folder">üìÅ</button>
          <button class="icon-btn" id="refresh-btn" title="Refresh">‚Üª</button>
        </div>
      </div>
      <div class="sidebar-content">
        <div id="explorer-view" class="sidebar-view active">
          <div class="empty-state" id="explorer-empty">
            <p class="sidebar-msg">You have not yet opened a folder.</p>
            <button class="btn-primary" id="open-folder-sidebar">Open Folder</button>
            <button class="btn-secondary" id="open-recent-sidebar">Open Recent</button>
            <p class="sidebar-info">To connect to a machine that has Remote Tunnel Access enabled, click here:</p>
            <button class="btn-primary">Connect to Tunnel...</button>
          </div>
          <div class="file-tree" id="file-tree" style="display: none;"></div>
        </div>
        <div id="search-view" class="sidebar-view">
          <div class="search-panel">
            <div class="search-input-row">
              <input type="text" id="find-input" placeholder="Search" class="search-input" />
              <span class="search-count" id="find-count"></span>
            </div>
            <div class="search-options">
              <label><input type="checkbox" id="find-case" /> Match case</label>
              <label><input type="checkbox" id="find-regex" /> Regex</label>
              <label><input type="checkbox" id="find-whole" /> Whole word</label>
            </div>
            <div class="search-input-row replace-row">
              <input type="text" id="replace-input" placeholder="Replace" class="search-input" />
            </div>
            <div class="search-actions">
              <button class="btn-small" id="replace-prev">‚Üë Prev</button>
              <button class="btn-small" id="replace-next">‚Üì Next</button>
              <button class="btn-small" id="replace-one">Replace</button>
              <button class="btn-small" id="replace-all">Replace All</button>
            </div>
          </div>
        </div>
        <div id="source-view" class="sidebar-view">
          <div class="source-panel">
            <div class="source-panel-header">
              <span>Source Control</span>
              <button class="btn-small" id="source-refresh-btn">Refresh</button>
            </div>
            <div id="source-list" class="source-list"></div>
          </div>
        </div>
        <div id="run-view" class="sidebar-view">
          <div class="run-panel">
            <p class="run-hint">Run your Cimple program. Configure the entry file and CLI arguments below.</p>
            <div class="run-config-card">
              <div class="run-config-row">
                <label for="run-entry-select">Entry File</label>
                <div class="run-entry-row">
                  <select id="run-entry-select">
                    <option value="">Select a file</option>
                  </select>
                  <button class="btn-small" id="run-browse-entry">Browse...</button>
                </div>
              </div>
              <div class="run-config-row">
                <label for="run-args-input">CLI Arguments</label>
                <input type="text" id="run-args-input" class="run-args-input" placeholder="e.g. --mode debug" />
              </div>
              <div class="run-config-row">
                <label for="run-cwd-input">Working Directory</label>
                <div class="run-cwd-row">
                  <input type="text" id="run-cwd-input" class="run-cwd-input" placeholder="Workspace root or custom path" />
                  <button class="btn-small" id="run-use-workspace-btn">Use workspace</button>
                </div>
              </div>
              <div class="run-footer">
                <button class="btn-primary" id="run-btn" title="Run configured file">Run</button>
                <span id="run-last-result" class="run-last-result">Awaiting run</span>
              </div>
            </div>
            <div class="run-history-card">
              <div class="run-history-header">
                <span>Run History</span>
                <button class="btn-small" id="run-history-clear">Clear</button>
              </div>
              <div class="run-history-list" id="run-history-list">
                <p class="run-history-empty">No runs yet.</p>
              </div>
            </div>
          </div>
        </div>
        <div id="extensions-view" class="sidebar-view">
          <div class="extensions-panel">
            <p class="extensions-hint">Extensions marketplace coming soon.</p>
          </div>
        </div>
      </div>
    </aside>

    <main class="editor-main">
      <header class="editor-header">
        <div class="breadcrumbs" id="breadcrumbs"><span class="breadcrumb-item">Untitled-1</span></div>
        <div class="tabs-container" id="tabs-container"></div>
        <div class="header-actions">
        </div>
        <div class="window-controls-spacer"></div>
      </header>

      <div class="editor-workspace">
        <div id="welcome-screen" class="welcome-screen">
          <div class="welcome-content">
            <h1 class="welcome-title">Cimple Dev Kit</h1>
            <p class="welcome-subtitle">Editing evolved</p>

            <div class="welcome-grid">
              <div class="welcome-section">
                <h3>Start</h3>
                <ul class="welcome-list">
                  <li><a href="#" id="welcome-new-file"><span class="icon">üìÑ</span> New File...</a></li>
                  <li><a href="#" id="welcome-open-file"><span class="icon">üìÇ</span> Open File...</a></li>
                  <li><a href="#" id="welcome-open-folder"><span class="icon">üìÅ</span> Open Folder...</a></li>
                </ul>
              </div>
              <div class="welcome-section">
                <h3>Walkthroughs</h3>
                <div class="walkthrough-card">
                  <span class="card-icon">‚òÖ</span>
                  <div class="card-text">
                    <strong>Get Started with Cimple</strong>
                    <span>Customize your editor, learn the basics</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="editor-container" id="editor-container" style="display: none;">
          <div class="line-numbers" id="line-numbers">1</div>
          <div class="editor-content">
            <div class="highlight-layer" id="highlight-layer" aria-hidden="true"></div>
            <textarea id="code-editor" spellcheck="false" placeholder="Start typing your Cimple code..."
              autocomplete="off" autocorrect="off" autocapitalize="off"></textarea>
          </div>
          <div class="minimap" id="minimap"></div>
        </div>
      </div>

      <div class="find-widget" id="find-widget">
        <div class="find-widget-row">
          <input type="text" id="editor-find-input" placeholder="Find" class="find-input" />
          <span class="find-widget-count" id="editor-find-count"></span>
          <button class="icon-btn find-btn" id="editor-find-prev" title="Previous">‚ñ≤</button>
          <button class="icon-btn find-btn" id="editor-find-next" title="Next">‚ñº</button>
          <button class="icon-btn find-btn" id="editor-find-close" title="Close">√ó</button>
        </div>
        <div class="find-widget-row replace-row">
          <input type="text" id="editor-replace-input" placeholder="Replace" class="find-input" />
          <button class="icon-btn find-btn" id="editor-replace-one">Replace</button>
          <button class="icon-btn find-btn" id="editor-replace-all">All</button>
        </div>
      </div>

      <div class="panel-resizer" id="panel-resizer"></div>
      <div class="bottom-panel" id="bottom-panel">
        <div class="panel-tabs" id="panel-tabs">
          <div class="panel-tab active" data-tab="terminal">Terminal</div>
          <div class="panel-tab" data-tab="output">Output</div>
          <div class="panel-tab" data-tab="debug">Debug Console</div>
        </div>
      <div class="panel-content">
        <div id="panel-terminal" class="panel-view active">
          <div class="terminal-toolbar">
            <div class="terminal-tab-strip" id="terminal-tab-strip"></div>
            <div class="terminal-actions">
              <button class="terminal-toolbar-btn" id="terminal-new-btn" title="New Terminal">Ôºã</button>
              <button class="terminal-toolbar-btn" id="terminal-split-btn" title="Split Terminal">‚ñ•</button>
              <button class="terminal-toolbar-btn" id="terminal-clear-btn" title="Clear (Ctrl+L)">üóë</button>
              <button class="terminal-toolbar-btn" id="terminal-kill-btn" title="Kill Terminal">‚õî</button>
              <button class="terminal-toolbar-btn" id="terminal-restart-btn" title="Restart Terminal">‚Üª</button>
            </div>
          </div>
          <div class="terminal-output-wrapper">
            <pre id="terminal-output" class="terminal-output"></pre>
            <div class="terminal-input-row">
              <input type="text" id="terminal-input" class="terminal-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
              <span class="terminal-input-hint" id="terminal-input-hint"></span>
            </div>
          </div>
        </div>
        <div id="panel-output" class="panel-view">
          <pre id="output-log" class="output-log"></pre>
        </div>
        <div id="panel-debug" class="panel-view">
          <pre class="debug-log">Debug console placeholder</pre>
        </div>
      </div>
      </div>

      <footer class="editor-footer">
        <div class="footer-left">
          <span id="cursor-pos" class="footer-item">Ln 1, Col 1</span>
          <span id="selection-info" class="footer-item" style="display: none;"></span>
          <span class="footer-item" id="eol-display">LF</span>
        </div>
        <div class="footer-right">
          <span class="footer-item">UTF-8</span>
          <span class="footer-item">Python</span>
        </div>
      </footer>
    </main>
    <div class="resizer" id="sidebar-resizer"></div>
  </div>

  <div class="context-menu" id="context-menu">
    <div class="context-item" data-action="cut"><span>Cut</span><span class="shortcut">Ctrl+X</span></div>
    <div class="context-item" data-action="copy"><span>Copy</span><span class="shortcut">Ctrl+C</span></div>
    <div class="context-item" data-action="paste"><span>Paste</span><span class="shortcut">Ctrl+V</span></div>
    <div class="context-divider"></div>
    <div class="context-item" data-action="selectAll"><span>Select All</span><span class="shortcut">Ctrl+A</span></div>
  </div>

  <script type="module" src="js/app.js"></script>
</body>

</html>
